(()=>{"use strict";const e=(()=>{const e=(e,n)=>{let d=document.createElement("div");d.classList.add("todo-item"),e.appendChild(d);let l=document.createElement("div");l.classList.add("wrapper"),d.appendChild(l);let a=document.createElement("div");a.classList.add("title-div"),l.appendChild(a);let i=document.createElement("span");i.textContent=n.title,a.appendChild(i);let o=document.createElement("div");o.classList.add("date-div"),l.appendChild(o);let c=document.createElement("span");c.textContent=!1===n.completed?"Due date: ":"Completed on: ",o.appendChild(c);let r=document.createElement("span");!1===n.completed&&n.dueDate>new Date&&(r.textContent=n.dueDate.toDateString()),!1===n.completed&&n.dueDate<new Date&&(r.textContent=n.dueDate.toDateString(),r.style.color="red",l.style.borderColor="red",a.style.background="#ff000030"),!1!==n.completed&&(r.textContent=n.completedOn.toDateString(),r.style.color="green",l.style.borderColor="green",a.style.background="#00ff0030"),o.appendChild(r);let p=document.createElement("div");p.classList.add("priority-div"),l.appendChild(p);let s=document.createElement("span");s.textContent="Priority: ",p.appendChild(s);let m=document.createElement("span");m.textContent=n.priority,p.appendChild(m);let h=document.createElement("div");h.classList.add("project-div"),l.appendChild(h);let u=document.createElement("span");u.textContent="Project: ",h.appendChild(u);let C=document.createElement("span");C.textContent=!1!==n.project?n.project.title:"-",h.appendChild(C);let E=document.createElement("div");l.appendChild(E),E.classList.add("menu-btn");let v=document.createElement("div");E.appendChild(v);let x=document.createElement("div");E.appendChild(x),E.addEventListener("click",(e=>{t(e,n,E)}))},t=(e,t,n)=>{let d=e.currentTarget.parentElement.parentElement;if("span 2"===d.style.gridColumn?d.style.gridColumn="":d.style.gridColumn="span 2","span 2"===d.style.gridRow?d.style.gridRow="":d.style.gridRow="span 2",1===d.children.length){let e=document.createElement("div");d.appendChild(e),e.classList.add("expanded-todo"),d.children[0].classList.add("wrapper-expanded"),n.classList.toggle("menu-btn-expanded");let l=document.createElement("div");l.classList.add("complete-div"),e.appendChild(l);let a=document.createElement("div");l.appendChild(a),!0===t.completed&&(a.style.boxShadow="none");let i=document.createElement("span");a.appendChild(i),i.textContent="COMPLETE",a.addEventListener("click",(e=>{!1===t.completed?(t.completed=!0,t.completedOn=new Date,d.children[0].children[1].children[1].textContent=t.completedOn.toDateString(),d.children[0].children[1].children[0].textContent="Completed on: ",d.children[0].children[1].children[1].style.color="green",d.children[0].style.borderColor="green",a.style.boxShadow="none",d.children[0].children[0].style.background="#00ff0030"):t.dueDate<new Date?(t.completed=!1,t.completedOn=!1,d.children[0].children[1].children[1].textContent=t.dueDate.toDateString(),d.children[0].children[1].children[0].textContent="Due date: ",d.children[0].children[1].children[1].style.color="red",d.children[0].style.borderColor="red",a.style.boxShadow="#0d324d 2px 3px 4px",d.children[0].children[0].style.background="#ff000030"):(t.completed=!1,t.completedOn=!1,d.children[0].children[1].children[1].textContent=t.dueDate.toDateString(),d.children[0].children[1].children[0].textContent="Due date: ",d.children[0].children[1].children[1].style.color="inherit",d.children[0].style.borderColor="#0d324d",a.style.boxShadow="#0d324d 2px 3px 4px",d.children[0].children[0].style.background="none")}));let o=document.createElement("div");o.classList.add("description-div"),e.appendChild(o);let c=document.createElement("span");c.textContent="Description: ",o.appendChild(c);let r=document.createElement("span");r.textContent=t.description,o.appendChild(r);let p=document.createElement("div");p.classList.add("notes-div"),e.appendChild(p);let s=document.createElement("span");s.textContent="Notes: ",p.appendChild(s);let m=document.createElement("span");m.textContent=t.notes,p.appendChild(m);let h=document.createElement("div");h.classList.add("checklist-div"),e.appendChild(h);let u=document.createElement("span");u.textContent="Checklist: ",h.appendChild(u);let C=document.createElement("div");C.classList.add("checklist-wrapper"),h.appendChild(C),t.checklist.forEach((e=>{let t=document.createElement("div");C.appendChild(t);let n=document.createElement("div");t.appendChild(n),n.textContent=1==e[1]?"✓":"",n.addEventListener("click",(t=>{1==e[1]?(e[1]=0,n.textContent=""):(e[1]=1,n.textContent="✓")}));let d=document.createElement("div");t.appendChild(d),d.textContent=e[0]}))}else d.children[1].remove(),d.children[0].classList.remove("wrapper-expanded"),n.classList.toggle("menu-btn-expanded")},n=t=>{const n=t,d=document.querySelector(".content-container");d.innerHTML="";const l=document.createElement("div");d.appendChild(l),l.classList.add("content");for(let t=0;t<n.length;t++)e(l,n[t]);(e=>{let t=document.createElement("div");t.classList.add("todo-item"),e.appendChild(t);let n=document.createElement("div");n.classList.add("wrapper","add-todo"),t.appendChild(n);let d=document.createElement("span");n.appendChild(d),d.textContent="+";let l=document.createElement("span");l.classList.add("hidden"),n.appendChild(l),l.textContent="Add",n.addEventListener("mouseenter",(()=>{l.classList.remove("hidden")})),n.addEventListener("mouseleave",(()=>{l.classList.add("hidden")}))})(l)};return{buildToDosByDate:n,newToDo:(e,t,d)=>{const l=document.querySelector(".content-container"),a=document.createElement("div");l.appendChild(a),a.classList.add("new-todo-wrapper");let i=document.createElement("div");a.appendChild(i),i.classList.add("wrapper-one");let o=document.createElement("div");a.appendChild(o),o.classList.add("wrapper-two");let c=document.createElement("div");i.appendChild(c),c.classList.add("title-wrapper");let r=document.createElement("span");c.appendChild(r),r.textContent="Title: ";let p=document.createElement("input");c.appendChild(p),p.type="text",p.value="To Do";let s=document.createElement("div");i.appendChild(s),s.classList.add("description-wrapper");let m=document.createElement("span");s.appendChild(m),m.textContent="Description: ";let h=document.createElement("input");s.appendChild(h),h.type="text",h.value="Description";let u=document.createElement("div");i.appendChild(u),u.classList.add("due-date-wrapper");let C=document.createElement("span");u.appendChild(C),C.textContent="Due date: ";let E=document.createElement("input");u.appendChild(E),E.type="date",E.valueAsDate=new Date;let v=document.createElement("div");i.appendChild(v),v.classList.add("priority-wrapper");let x=document.createElement("span");v.appendChild(x),x.textContent="Priority: ";let D=document.createElement("form");v.appendChild(D);let y=document.createElement("span");D.appendChild(y),y.textContent="Low";let w=document.createElement("input");D.appendChild(w),w.type="radio",w.name="priority",w.id="low",w.checked=!0;let L=document.createElement("span");D.appendChild(L),L.textContent="Normal";let g=document.createElement("input");D.appendChild(g),g.type="radio",g.name="priority",g.id="normal";let b=document.createElement("span");D.appendChild(b),b.textContent="High";let k=document.createElement("input");D.appendChild(k),k.type="radio",k.name="priority",k.id="high";let T=document.createElement("div");i.appendChild(T),T.classList.add("project-wrapper");let f=document.createElement("span");T.appendChild(f),f.textContent="Project: ";let j=document.createElement("select");T.appendChild(j),j.name="project",d.forEach((e=>{let t=document.createElement("option");j.appendChild(t),t.value=e.title,t.textContent=e.title}));let S=document.createElement("div");o.appendChild(S),S.classList.add("notes-wrapper");let I=document.createElement("span");S.appendChild(I),I.textContent="Notes: ";let P=document.createElement("input");S.appendChild(P),P.type="text",P.value="Notes";let O=document.createElement("div");o.appendChild(O),O.classList.add("check-list-wrapper");let N=document.createElement("span");O.appendChild(N),N.textContent="Checklist: ";let B=document.createElement("div");O.appendChild(B),B.textContent="+";let M=[];B.addEventListener("click",(()=>{let e=document.createElement("div");O.insertBefore(e,B);let t=document.createElement("input");e.appendChild(t),t.type="text";let n=document.createElement("input");e.appendChild(n),n.type="checkbox",M.push([t.value,n.value])}));let q=document.createElement("div");a.appendChild(q),q.classList.add("submit-btn-wrapper");let A=document.createElement("div");q.appendChild(A),A.textContent="Save",A.addEventListener("click",(()=>{e.title=p.value,e.description=h.value,e.dueDate=E.valueAsDate,e.priority=document.querySelector('input[name="priority"]:checked').id,e.project=d.filter((e=>e.title===j.value))[0],e.notes=P.value;for(let t=0;t<M.length;t++)e.checklist.push([O.children[t+1].children[0].value,O.children[t+1].children[1].checked?1:0]);n(t)}))}}})(),t=(()=>{const e=[],t=[];return{ToDoItem:class{constructor(t="New To Do Item",n="Description...",d=((e,t)=>(e.setDate(e.getDate()+t),e))(new Date,30),l="low",a="Notes...",i=[],o=!1,c=!1,r=!1){this.title=t,this.description=n,this.dueDate=d,this.priority=l,this.notes=a,this.checklist=i,this.completed=o,this.completedOn=c,this.project=r,e.push(this)}},ToDoProject:class{constructor(e="New Project",n="Description",d=[],l=!1,a=!1){this.title=e,this.description=n,this.toDoItems=d,this.completed=l,this.completedOn=a,t.push(this)}},toDos:e,projects:t}})();new t.ToDoItem("Tide up","Tide up my bedroom and kitchen.",new Date("2021-1-25"),"normal","Use vacuum cleaner not just a broom.",[["kitchen",1],["bedroom",0]],!0,new Date("2021-1-5"));let n=new t.ToDoItem("Buy a lamp","Buy lamp at ikea.",new Date("2021-3-1"),"high","Max price is 10$."),d=new t.ToDoItem("Buy a table","Buy kitchen table at ikea.",new Date("2021-2-28"),"high","Max price is 100$."),l=(new t.ToDoItem("Learn programming","Learn at least 5 programming languages.",new Date("2021-4-15"),"low","3 languages on advanced level and 2 intermediate.",[["golang",0],["javascript",1],["ruby",1],["rust",0],["c#",0]]),new t.ToDoProject("House renovation","Steb by step revonation of my house.")),a=t.toDos,i=t.projects;new t.ToDoProject("Learning","Learning of various skills."),n.project=l,d.project=l;for(let e=1;e<10;e++)new t.ToDoItem;a[a.length-1].dueDate=new Date("2020-1-1");let o=new t.ToDoItem;e.newToDo(o,a,i)})();