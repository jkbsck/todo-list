(()=>{"use strict";const e=(()=>{const e=e=>{let d=document.createElement("div");d.classList.add("todo-item"),n.appendChild(d);let l=document.createElement("div");l.classList.add("wrapper"),d.appendChild(l);let i=document.createElement("div");i.classList.add("title-div"),l.appendChild(i);let c=document.createElement("span");c.textContent=e.title,i.appendChild(c);let s=document.createElement("div");s.classList.add("date-div"),l.appendChild(s);let o=document.createElement("span");o.textContent=!1===e.completed?"Due date: ":"Completed on: ",s.appendChild(o);let a=document.createElement("span");!1===e.completed&&e.dueDate>new Date&&(a.textContent=e.dueDate.toDateString()),!1===e.completed&&e.dueDate<new Date&&(a.textContent=e.dueDate.toDateString(),a.style.color="red",l.style.borderColor="red",i.style.background="#ff000030"),!1!==e.completed&&(a.textContent=e.completedOn.toDateString(),a.style.color="green",l.style.borderColor="green",i.style.background="#00ff0030"),s.appendChild(a);let r=document.createElement("div");r.classList.add("priority-div"),l.appendChild(r);let p=document.createElement("span");p.textContent="Priority: ",r.appendChild(p);let m=document.createElement("span");m.textContent=e.priority,r.appendChild(m);let u=document.createElement("div");u.classList.add("project-div"),l.appendChild(u);let h=document.createElement("span");h.textContent="Project: ",u.appendChild(h);let C=document.createElement("span");C.textContent=!1!==e.project?e.project.title:"-",u.appendChild(C);let g=document.createElement("div");l.appendChild(g),g.classList.add("menu-btn");let D=document.createElement("div");g.appendChild(D);let E=document.createElement("div");g.appendChild(E),g.addEventListener("click",(n=>{t(n,e,g)}))},t=(e,t,n)=>{let d=e.currentTarget.parentElement.parentElement;if("span 2"===d.style.gridColumn?d.style.gridColumn="":d.style.gridColumn="span 2","span 2"===d.style.gridRow?d.style.gridRow="":d.style.gridRow="span 2",1===d.children.length){let e=document.createElement("div");d.appendChild(e),e.classList.add("expanded-todo"),d.children[0].classList.add("wrapper-expanded"),n.classList.toggle("menu-btn-expanded");let l=document.createElement("div");l.classList.add("complete-div"),e.appendChild(l);let i=document.createElement("div");l.appendChild(i),!0===t.completed&&(i.style.boxShadow="none");let c=document.createElement("span");i.appendChild(c),c.textContent="COMPLETE",i.addEventListener("click",(e=>{!1===t.completed?(t.completed=!0,t.completedOn=new Date,d.children[0].children[1].children[1].textContent=t.completedOn.toDateString(),d.children[0].children[1].children[0].textContent="Completed on: ",d.children[0].children[1].children[1].style.color="green",d.children[0].style.borderColor="green",i.style.boxShadow="none",d.children[0].children[0].style.background="#00ff0030"):t.dueDate<new Date?(t.completed=!1,t.completedOn=!1,d.children[0].children[1].children[1].textContent=t.dueDate.toDateString(),d.children[0].children[1].children[0].textContent="Due date: ",d.children[0].children[1].children[1].style.color="red",d.children[0].style.borderColor="red",i.style.boxShadow="#0d324d 2px 3px 4px",d.children[0].children[0].style.background="#ff000030"):(t.completed=!1,t.completedOn=!1,d.children[0].children[1].children[1].textContent=t.dueDate.toDateString(),d.children[0].children[1].children[0].textContent="Due date: ",d.children[0].children[1].children[1].style.color="inherit",d.children[0].style.borderColor="#0d324d",i.style.boxShadow="#0d324d 2px 3px 4px",d.children[0].children[0].style.background="none")}));let s=document.createElement("div");s.classList.add("description-div"),e.appendChild(s);let o=document.createElement("span");o.textContent="Description: ",s.appendChild(o);let a=document.createElement("span");a.textContent=t.description,s.appendChild(a);let r=document.createElement("div");r.classList.add("notes-div"),e.appendChild(r);let p=document.createElement("span");p.textContent="Notes: ",r.appendChild(p);let m=document.createElement("span");m.textContent=t.notes,r.appendChild(m);let u=document.createElement("div");u.classList.add("checklist-div"),e.appendChild(u);let h=document.createElement("span");h.textContent="Checklist: ",u.appendChild(h);let C=document.createElement("div");C.classList.add("checklist-wrapper"),u.appendChild(C),t.checklist.forEach((e=>{let t=document.createElement("div");C.appendChild(t);let n=document.createElement("div");t.appendChild(n),n.textContent=1==e[1]?"✓":"",n.addEventListener("click",(t=>{1==e[1]?(e[1]=0,n.textContent=""):(e[1]=1,n.textContent="✓")}));let d=document.createElement("div");t.appendChild(d),d.textContent=e[0]}))}else d.children[1].remove(),d.children[0].classList.remove("wrapper-expanded"),n.classList.toggle("menu-btn-expanded")};let n,d=[],l=[],i={};const c=(t=["oldest","pending"])=>{n=(()=>{const e=document.querySelector(".content-container");e.innerHTML="";const t=document.createElement("div");return e.appendChild(t),t.classList.add("content"),t})(),(e=>{let t=document.createElement("div");n.appendChild(t),t.classList.add("filter-wrapper");let d=document.createElement("div");t.appendChild(d),d.classList.add("filter-title"),d.textContent="Filter:";let l=document.createElement("div");t.appendChild(l),l.classList.add("oldest"),l.textContent="Old first",e.includes("oldest")&&l.classList.toggle("filtered"),l.addEventListener("click",(()=>{if(l.classList.toggle("filtered"),e.includes("oldest")){let t=e.indexOf("oldest");e.splice(t,1)}else e.push("oldest");if(e.includes("newest")){let t=e.indexOf("newest");e.splice(t,1)}c(e)}));let i=document.createElement("div");t.appendChild(i),i.classList.add("newest"),i.textContent="New first",e.includes("newest")&&i.classList.toggle("filtered"),i.addEventListener("click",(()=>{if(i.classList.toggle("filtered"),e.includes("newest")){let t=e.indexOf("newest");e.splice(t,1)}else e.push("newest");if(e.includes("oldest")){let t=e.indexOf("oldest");e.splice(t,1)}c(e)}));let s=document.createElement("div");t.appendChild(s),s.classList.add("completed"),s.textContent="Completed",e.includes("completed")&&s.classList.toggle("filtered"),s.addEventListener("click",(()=>{if(s.classList.toggle("filtered"),e.includes("completed")){let t=e.indexOf("completed");e.splice(t,1)}else e.push("completed");c(e)}));let o=document.createElement("div");t.appendChild(o),o.classList.add("incompleted"),o.textContent="Incompleted",e.includes("incompleted")&&o.classList.toggle("filtered"),o.addEventListener("click",(()=>{if(o.classList.toggle("filtered"),e.includes("incompleted")){let t=e.indexOf("incompleted");e.splice(t,1)}else e.push("incompleted");c(e)}));let a=document.createElement("div");t.appendChild(a),a.textContent="Pending",e.includes("pending")&&a.classList.toggle("filtered"),a.addEventListener("click",(()=>{if(a.classList.toggle("filtered"),e.includes("pending")){let t=e.indexOf("pending");e.splice(t,1)}else e.push("pending");c(e)}))})(t);let l=(e=>{let t=[...d];return e.includes("oldest")&&(t=t.slice().sort(((e,t)=>e.dueDate-t.dueDate))),e.includes("newest")&&(t=t.slice().sort(((e,t)=>t.dueDate-e.dueDate))),e.includes("completed")&&e.includes("incompleted")&&e.includes("pending")||(e.includes("completed")&&e.includes("incompleted")?t=t.slice().filter((e=>!0===e.completed||e.dueDate<new Date)):e.includes("completed")&&e.includes("pending")?t=t.slice().filter((e=>!0===e.completed||e.dueDate>new Date)):e.includes("incompleted")&&e.includes("pending")?t=t.slice().filter((e=>!1===e.completed)):e.includes("completed")?t=t.slice().filter((e=>!0===e.completed)):e.includes("incompleted")?t=t.slice().filter((e=>e.dueDate<new Date)):e.includes("pending")&&(t=t.slice().filter((e=>!1===e.completed&&e.dueDate>new Date)))),t})(t);for(let t=0;t<l.length;t++)e(l[t]);(()=>{let e=document.createElement("div");e.classList.add("todo-item"),n.appendChild(e);let t=document.createElement("div");t.classList.add("wrapper","add-todo"),e.appendChild(t);let d=document.createElement("span");t.appendChild(d),d.textContent="+";let l=document.createElement("span");l.classList.add("hidden"),t.appendChild(l),l.textContent="Add",t.addEventListener("mouseenter",(()=>{l.classList.remove("hidden")})),t.addEventListener("mouseleave",(()=>{l.classList.add("hidden")})),t.addEventListener("click",(()=>{_newToDo()}))})()};return{start:(e,t,n)=>{e.pop(),d=e,l=t,i=n,c()}}})(),t=(()=>{const e=[],t=[];return{ToDoItem:class{constructor(t="New To Do Item",n="Description...",d=((e,t)=>(e.setDate(e.getDate()+t),e))(new Date,30),l="low",i="Notes...",c=[],s=!1,o=!1,a=!1){this.title=t,this.description=n,this.dueDate=d,this.priority=l,this.notes=i,this.checklist=c,this.completed=s,this.completedOn=o,this.project=a,e.push(this)}},ToDoProject:class{constructor(e="New Project",n="Description",d=[],l=!1,i=!1){this.title=e,this.description=n,this.toDoItems=d,this.completed=l,this.completedOn=i,t.push(this)}},toDos:e,projects:t}})();new t.ToDoItem("Tide up","Tide up my bedroom and kitchen.",new Date("2021-1-25"),"normal","Use vacuum cleaner not just a broom.",[["kitchen",1],["bedroom",0]],!0,new Date("2021-1-5"));let n=new t.ToDoItem("Buy a lamp","Buy lamp at ikea.",new Date("2021-3-1"),"high","Max price is 10$."),d=new t.ToDoItem("Buy a table","Buy kitchen table at ikea.",new Date("2021-2-28"),"high","Max price is 100$."),l=(new t.ToDoItem("Learn programming","Learn at least 5 programming languages.",new Date("2021-4-15"),"low","3 languages on advanced level and 2 intermediate.",[["golang",0],["javascript",1],["ruby",1],["rust",0],["c#",0]]),new t.ToDoProject("House renovation","Steb by step revonation of my house.")),i=t.toDos,c=t.projects;new t.ToDoProject("Learning","Learning of various skills."),n.project=l,d.project=l;for(let e=1;e<10;e++)new t.ToDoItem;i[i.length-1].dueDate=new Date("2020-1-1"),e.start(i,c,new t.ToDoItem("blank"))})();